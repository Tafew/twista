{% extends 'base.html' %}

{% block content %}

<div class="mdl-grid">
    <div class="mdl-cell mdl-cell--8-col">
        <div class="mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Volume</h2>
            </div>
            <div id="tweetvolume"></div>
            <script>
                Plotly.newPlot('tweetvolume', [{
                    x: {{ plot['xs'] | safe }},
                    y: {{ plot['ys'] }},
                    type: 'scatter',
                    line: {shape: 'spline'}
                }], {
                    yaxis: {
                        title: 'Tweets per day'
                    }
                }, {
                    responsive: true,
                    displayModeBar: false
                });
            </script>
        </div>
    </div>
    <div class="mdl-cell mdl-cell--4-col">
        <div class="mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Type of tweets</h2>
            </div>
            <div id="typepie"></div>
            <script>
                Plotly.newPlot('typepie', [{
                    values: {{ pie['values'] }},
                    labels: {{ pie['labels'] | safe }},
                    type: 'pie'
                }], {}, {
                    responsive: true,
                    displayModeBar: false
                });
            </script>
        </div>
    </div>

    <div class="mdl-cell mdl-cell--12-col">
        <div class="mdl-card mdl-shadow--2dp">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text">Tweets</h2>
            </div>
            <div class="mdl-card__supporting-text">
                {{ tweets | tweetlist | safe }}
            </div>
        </div>
    </div>
</div>

<!--
<div class="tweets">
    {% for tweet in tweets %}
    <div class='tweet {{ tweet["tweet"]["type"] }}'>
        <strong>[{{ tweet['tweet']['type'].upper() }}]</strong> from 
        <a class='user' href="/user/{{ tweet['user']['id'] }}">@{{ tweet['user']['screen_name'] }}</a>
        Date: {{ tweet['tweet']['created_at'] }}
        <div class='text'>
            <a href="/tweet/{{ tweet['tweet']['id'] }}">{{ tweet['tweet']['text'] }}</a>
        </div>
        Retweets: <span class="retweets">{{ tweet['tweet']['retweets'] }}</span>
        Likes: <span class="favs">{{ tweet['tweet']['favourites'] }}</span>
    </div>
    {% endfor %}
</div>
-->
{% endblock %}