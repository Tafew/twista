{% extends 'base.html' %}

{% block content %}
<div class="tweets">
    {% for tweet in tweets %}
    <div class='tweet {{ tweet["tweet"]["type"] }}'>
        <strong>[{{ tweet['tweet']['type'].upper() }}]</strong> from 
        <a class='user' href="/user/{{ tweet['user']['id'] }}">@{{ tweet['user']['screen_name'] }}</a>
        Date: {{ tweet['tweet']['created_at'] }}
        <div class='text'>
            <a href="/tweet/{{ tweet['tweet']['id'] }}">{{ tweet['tweet']['text'] }}</a>
        </div>
        Retweets: <span class="retweets">{{ tweet['tweet']['retweets'] }}</span>
        Likes: <span class="favs">{{ tweet['tweet']['favourites'] }}</span>
    </div>
    {% endfor %}
</div>

<!--
<script>
    window.onload = function () {
        document.querySelectorAll(".tweets a.user").forEach((element, _) => {
            loadJson("/user/" + element.id + "/json", (user) => {
                element.innerText = "@" + user['screen_name'];
                element.href = "/user/" + element.id;
            });
        });
    }
</script>
-->
{% endblock %}